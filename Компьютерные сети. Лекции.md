# Лекция 3
>[Слайд 10]

2. Последующие уровни добавляет к этому уровню свои заголовки, исходя из данных заголовка предыдущего уровня
3. На физическом уровне блок данных обрастает заголовками всех уровней
4. На приемном участке обрабатывает заголовок каждого уровня и исключает его из блока данных. Передает на более высокие уровни. Единицы данных, передаваемые от уровню к уровню имеет свои названия. Общие названия для каждого уровня в соответствии с моделью osi - protocol data unit. В модели osi различают 2 типа протоколов взаимодействия:
    *   _С установлением соединения (connection oriented)_ - источник и адресат должны установить соединение, а затем передавать данные. После окончания они должны разорвать соединение. Установка и разрыв соединения происходят установленным порядком.
    *   _Без установления соединения (connectionless)_ - дэйтаграмные протоколы.

## Уровни модели osi
> Слайд 11

*   __Физический уровень.__ Непосредственно имеет дело с передачей битов по физической линии связи. (Не путать линию связи и канал связи. В линни может быть несколько каналов). Иногда называют ф. средой передачи информации Пример: эфир, кабель, витая пара). Протоколы определяются характеристиками физических сред: полоса пропускания, помехозащищенность, волновое сопротивление и др. На уровне действуют сигналы с определенными характеристиками: уровни напряжения и тока, частота (смесь частот), тип кодирования и др. Пример: физический уровень реализуется в сетевом адаптера локальной сети, который соединен с витой парой, например в спецификации 10Base-T относятся технологии Ethernet которые в качестве кабеля используют неэкранированную витую пару категории 3 с волновым сопротивлением 100 ОМ с разьемом RJ-45, максимальная длина непрерывного физического сегмента 100м, логический код представления данных - манчестерское кодирование.

> Слайд 16

*   __Канальный уровень.__ Одной из задач уровней является определение доступности (готовности среды передачи для того, чтобы можно было передавть линию связи). Проблема возникает испольщуется общая среда (один моноканал). Пример: локальная сеть с шинной топологией. Другой функцией канального уровня явлется обнаружение и исправления ошибок. Другой функцией уровян является группировка в кадры. На этом уровне формируются фреймы. Уровень обеспечивает корректную передачу и прием каждого кадра помещая специальную последовательность битов в конец каждого кадра, а так же вычисляет контрольную сумму по определенному алгоритму и записывает в заголовок. При получении адресатом заново выполняет эти функции и сравнивает с принятыми значениями: если совпадают - хорошо, если нет - ошибка. Примеры протоколов: Ethernet, TokenRing, RDDI. Протоколы канального уровня используются рабочими станциями, мостами, коммутаторами и маршрутизаторами. Уровень реализуется в драйвере сетевого адаптера. Для глобальных сетей примеры протоколов: PPP, LAPB.
Часто функции канального уровня объединяются с уровнем сететвого уровня и часто выделить канальный уровня не всегда представляется возможным. Доставка сообщений на канальном уровне осуществляется только в пределах одного сегмента локальной сети. Передать информацию до любого узла составной сети не представляется возможным (нужен сететвой уровень).

> Слайд 17

*   Сетевой уровень. Служит для образования единой транспортной системы, позволяющий передавать от рабочей станции одного сегмента составной сети до рабочей станции другого сегмента составной сети. Пример: объединение двух локальной сети через магистральную сеть. Сети объединяются через маршрутизаторы. Информация передаются прыжками ("хопами") от одного маршрутизатора до другого, пока не придет маршрутизатору, которым определена сеть.

> __Выбор наилучшего маршрута__ - марщрутизация - одна из главных задач сетевого уровня.

Критерии выбора маршрута:
-   Интенсивность трафика
-   Надежность линии связи
-   Время доставки

Блок данных доставке на сетевом уровне называется пакет.
На сетевом уровне различают следующие типы протоколов:
-   __Сетевые протоколы.__ Реализует продвижение пакетов через сеть.
-   __Протоколы маршрутизации.__ С помощью этих протоколов маршрутизаторы собирают информацию о топологии сети и межсетевых подключениях (существующих маршрутах). Данные протоколы реализуются компонентами ОС и аппаратными средствами маршрутизаторов.
-   __Протоколы разрешения адресов.__ Преобразование сетевого адреса в mac-адрес, на основании которого осуществляется передача на канальном уровне. И в обратную сторону (из mac в сетевой). Адреса сетевые назначаются динамически, т. е. могут отличаться от сеанса к сеансу, а mac-адреса встроеные, уникальные. Пример: ARP, RARP. Пример протокола сетевого уровня: IP
-   __Транспортный уровень.__ Обеспечивает протоколом более высокого уровня аппарат для передачи данных с определенной степенью надежности. Можно выделить 5 типов сервиса, предоставляемых транспортным уровнем, по качеству:
    -   Срочность передачи
    -   Возможность, невозможность восстановления связи.
    -   Возможностью/Невозможностью мультеплексирования
    -   Исправление ошибок передачи

    Облекченные сервисы используются когда вероятность ошибок мала и обнаружение и исправление ошибок на низких уровнях велика. Протоколы транспортного уровня реализуются компонентами ОС.

> Протоколы первых четырех уровней модели osi называются __транспортной сущностью__. С помощью этих четырех уровней можно передать информацию из любой рабочей станции отправителя, любому получателю составной сети.

Перечень протоколов, используемых в локальных сетях и глобальных сетях этих уровней различны. Пример: в интернет - OSPF и BGP - в локальных сетях не используются.

-   __Сеансовый уровень.__ Обеспечивает управление диалогом при взаимодействии:  фиксирует какая из сторон является активной и осуществляет синхронизацию между отправителем и получателем. Позволяет вставлять контрольные точки в данные, чтобы к ней можно было откатиться, а не начинать передачу заново. Редко реализуется в виде отдельных протоколов. Объединяется с функциями прикладного уровня.
-   __Представительский уровень.__ Определяет формат передаваемой информации не
меняя ее содержимого. Информация в кодировке одной системы представляется в кодировке другой системы. На этом уровне может осуществляется шифрование данных (SSL).
-   __Прикладной уровень__. Набор протоколов по которому пользователи получают доступ к ресурсам. Еденица передаваемых данных - message. Примеры: HTTP, FTP.

Три нижних уровня - сетезависимые, т. е. тесно связаны с аппаратной реализацией сети и коммуникационным оборудованием. Например при переходе на FDDI меняется список протоколов нижних уровней. Следующие три уровня не завият от сетевого оборудования.

Модели osi не единственная модель сетевого взаимодействия.

## Источники стандартов по сетевому взаимодействию
> __Открытая система__ - любая система, построенная в соответствии с открытыми спецификациями.

> __Спецификация__ - формальное описание программных или аппаратных компонентов

> __Открытая спецификация__. Опубликованные, вседоступные, принятые после всестороннего обсуждения соглашения или стандарты. Пример: Internet

Основные источники стандартов по сетевому взаимодействию:
-   Стандарты фирм
-   Стандарты международных комитетов и объединений. Пример: ATM на основе ATM Forum
-   Национальные стандарты. FDDI созданы институтом ANSI
-   Международные стандарты.

Национальные стандарты становятся международными. Пример Ethernet IEEE-802.3x затем стал стандартом ISO-8802.3.

# Лекция 4
> [Слайд 23]

## Стеки коммуникационных протоколов
Важно разделять модель osi и стек стек протоколов модели osi. Модель osi — концептуальная схема взаимодействия, стек osi — набор конкретных протоколов, реализующих эту модель.

### Стек модели osi
Стек модели osi полностью соответствует модели, т. е. 7 уровни взаимодействия — на каждом уровне есть группа протоколов. Проколы стека osi — сложные и имеют неоднозначные спецификации т. к. разрабатывались различными группами разработчиков.

На физическом уровне и канальном 1 - 2 стек osi поддерживает протоколы ethernet, Tokenring, DDI и др. Сететвой уровень 3 включает протоколы CONP и CLNP. Первый основан на соединении, второй — нет. Протоколы маршрутизации ES-ES, IS-IS.

На сеансовом и транспортном уровне (4 и 5), определяются классами обслуживании и получает транспортный сервис, независимо от протоколов сететвого уровня.

На прикладном уровне (7) обеспечивает взаимодействие приложений с целью передачи данных, эмуляции терминала, службы сетевых каталогов и.т.д. Характерно все протоколы зайдействоны на всех уровнях.

### Стек протоколов IPX/SPX
В качестве протокола маршрутизации используются NLSP. Стек протоколов osi не в полной мере отображает модель osi. Особенности обусловлены ранней версией DOS и малым кол-вом пользователей. Если кол-во пользователей больше 50, перегружалась сеть и работала очень медленно. В настоящее время, в некоторых организациях эконом класса продолжается использование

###  Стек NetBIOS / SMB
NetBIOS появился в 80-ых годах как расширение стандартных функций биоса. В дальнейшим был замещен протоколом NetBEUI для обеспечения совместимости приложений в качестве NetBEUI был сохранен интерфейс биоса. Разработан для ЛВС, кол-во пользователей которых до 200. Стек не обеспечивает маршрутизацию пакетов, нельзя использовать в составных сетях. Протол SMB (Server Message Block) совмещает поддержку прикладного уровня. Поддерживается передача сообщений, пользовательская печать и.т.д.

###  Стек протоколов TCP / IP
Первоначально был реализован в Unix-подобных системах на которых строилась первоначально Internet. В дальнейшем развивался и стал основой, на которой реализуется сетевое взаимодействие Internet.
Особенности стека - возможно фрагментировать пакеты. Т. е. Если составная сеть построена на разных принципах, то длины передаваемых данных и сегментов могут быть разными. Возможно при переходе информации из одной сети в другую, необходимо делить на подходящие части. В TCP / IP это возможно.

-	Гибкая система адресации, позволяющая включать в составную сеть подсети различных топологий и способов адресации.

-	Экономично используемые широковещательные рассылки (рассылка всем), что способствует снижению трафика, особенно важно для медленных линий связи. Характерно для глобальных сетей, использующих линии связи общего пользования.

-	Высокие требования к потребляемым ресурсам и сложность администрирования (гибкая система адресации и экономичное использование широковещательных рассылок приводит к потребности иметь в сети специальные службы, такие как DNS, DHCP и др.)

Протокол TCP и IP были разработаны до модели osi, поэтому соответствие стека модели osi условно. На прикладном уровне объединяются 3: прикладной, сеансовый, представления. Транспортный уровень стека можно представить двумя протоколами. TCP — обеспечивает гарантированную доставку, UDP — доставку по возможности.

Для гарантированная доставки TCP устанавливает логическое соединение, нумерует пакеты и принимает квитанции об их получении. В случае потери пакета передает его повторно. На приемном конце уничтожает дублированные пакеты. Представляет полученные пакеты более выскому уровню в том порядке, в которым они были переданы (пакеты — сегменты). Есть возможность передачи в дуплексом режиме. Одновременно в оба конца.

UDP используется для доставки без установления соединения в том случае, когда задача надежного обмена не ставится, либо обеспечивается на более высоких уровнях.

TCP и UDP — инструментарий, который позволяет перемещать пакеты по составной сети.

Сетевой уровень стека — на этом уровне осуществляется передача данных по составной сети. Информация предоставляется от / в транспортный уровень.  Основной протокол — IP. Основная задача — продвижение пакета от одного маршрутизатора к другому до тех пор, пока он не дойдет до маршрутизатора сети назначения, где находится рабочая станция получатель. В отличе от протоколов прикладного и транспортного уровней развертывается не только на хостах, но и на всех шлюзах (смотри выше).

IP — дейтаграмный протокол, работает без установления соединения по принципу доставки «с максимальным усилием».

К протоколу сетевого уровня относится OSPF — протокол маршрутизации автономной системы в сети Internet. Сети Internet представляется набором автономных соединенных систем, соединенных магистральной сетью. BGP — протокол маршрутизации между автономными системами. Протоколы маршрутизации строят таблицы маршрутизации, на основании которых протокол IP передает пакеты в том или ином направлении. Протоколы ICMP (Internet Control Message Protocol) — протокол обмена межсетевыми управляющими сообщениями. Предназначен в том числе для передачи маршрутизатору-источнику информацию об ошибках маршрутизатором-получаетелм. IGMP (Internet Group Menegment Protocol) ­- предназначен для направления информации по нескольким адресам. Если всем называется циркуляр.

Канальный уровень и физический уровень реализует доступ к среде передачи, формирует кадры, согласует уровень сигналов кодирования и синхронизации. Особенность составной сети стека TCP / IP является возможность подключения новой сети со своей технологией передачи данных. Новая технология может включатся в стек путем разработки и опубликования нового документа к спецификации RFC (Request for comments) — определяет метод инкапсуляции пакетов новой технологии, передаваемой по сети. Например RFC 1577 Определяет работу протокола IP через сеть ATM. При этом, включение новой технологии в составную сеть TCP / IP не зависит от количества уровней, которыми описывается новая технология.

В сети стека TCP / IP каждый коммуникационный протокол оперирует единицей передачи данных.

> [Слайд 27]

Выводы. Соответствие стека протоколов модели osi — условное. Несоответствие вызвано сокращением компонент для увеличения скорости работы в ущерб модульности. Ни один стек известных протоколов не имеет реализаций всех семи уровней, как правило взаимодействие осуществляется на 3-4 уровнях. Первый — физический, канальный (сетевой адаптер), второй — сетевой уровень(маршрутизатор), третий - транспортный уровень (компоненты ОС, реализующих передачу данных), четвертый — уровень сетевой службы (реализуется приложением и соответствующей IPI) — сеансовый представления прикладной)

Распределение протоколов протоколов распределению сети. Как правило полный стек протоколов реализован только на конечных узлах (рабочих станциях), другие части сети реализуют 1-3 уровня

> [Слайд 29. Картинку нужно знать!]

Для продвижения пакета одного сегмента сети, достаточно два нижних уровня. Сотавной сети — три нижних уровня.

## Примеры сетей
В общем случае компьютерная сеть состоит из следующих подсистем (компонентов):
-	Терминальной оборудование (конечное оборудование, рабочая станция). В качестве терминального оборудования могут быть различные устройства: датчики, неинтеллектуальные терминалы и др. Могут быть интеллектуальные: рабочие станции, ЭВМ.
-	Сеть доступа — сеть, в которой находятся терминальное или конечное поборудование пользователя (локальная сеть, получатель либо источник).
-	Магистральная сеть — сеть, которая связывает сети доступа между собой.
-	Информационные центры (провайдеры сетевых услуг и сетевых служб).

# Лекция 5
Как правило информационные центры сами по себе являются абонентами существующей системы связи, которые непосредственно представляют вычислительные мощности, к которым обращаются клиенты. Обращение происходят по линиям связи.

__Сеть доступа и магистральная сеть__ — строится на основе коммутаторов и маршрутизаторов, которые соединяются друг с другом, как правило к сетям доступа подключаются локальные сети организаций и отдельных пользователей.

И магистральная и сеть доступа по возможности использует максимально существующие линии связи. Пример магистральная сеть — строится на основе магистральной сети телефонной линии общего пользования.

Не путать информационные центры, сеть доступа и магистральную сеть с системой связи, которая строится из своих элементов. Коммутаторы сетей доступа и коммутаторы сетей связи — различные.

Коммутаторы коммутируемы телефонной линии общего пользования (ТЛОП) (PBX).

Важно понимать, что информационно-телекоммуникационная сеть разделяется на две смысловых компоненты:
-	__логические__ — которые предоставляют сетевые услуги. Предоставление сетевых услуг поддерживается аппаратной частью (серверы, рабочие станции...)
-	__физические__ — на которую проецируются логическая часть информационной сети, является существующей системой связи.

### Корпоративные сети

К. С. - являются составной частью глобальных сетей. В общем случае структура совпадает со структурой информационно-телекоммуникационной сети в целом. Как правило логически представляет собой сеть центрального офиса и удаленных подразделений. Так же можно представить логическую и физическую компоненту. Пример корпаративной сети смотри на слайде №33.

### Сеть интернет

С. И. называется метасетью, то есть набором отдельных сетей, соединенных вместе. Каждая входящая сеть интернет управляется оператором-поставщиком услуг, который называется ISP (Internet Service Provider). Существует некоторые органы управления интернет, но они как правило отвечают за единую техническую политику. Интернет — сеть с высокой степенью децентрализованного управления. Для подключения нового ISP  достаточно заключить договор с существующим ISP. После чего пользователи новой сети получают доступ к услугам. Поставщики услуг ISP как правило не отвечают за конечный результат получения информации абонентом. Они только обеспечивают корректное формирование запроса при получении ответа другому ISP.

Так же как информационно-телекоммукационную сеть, можно разделить на две части: логическую (информационную) и физическую (средства связи). Логическая часть состоит из поставщиков услуг различного типа:
-	__Магистральный поставщик услуг__. Является аналогом транснациональных операторов связи. То есть соединяется с другим магистральным поставщиком услуг и поставщиками услуг более низкого уровня. Обладает транспортными магистралями для передачи информации. Покрывает крупные регионы (страны, континенты).
-	__Региональные поставщики услуг__. Оказывают услуги интернета в рамках определенного региона (в зависимости от административного деления страны).
-	__Локальные поставщики услуг__. Представляют услуги в рамках города или района.

Связь между поставщиками услуг строится на основе пиринговых соглашений (peer to peer communication: магистральный оператор — магистральный оператор, магистральный оператор — региональный оператор,  региональный оператор — региональный оператор,  региональный оператор — локальный оператор. Операторы (организаторы связи) обязуются коммутировать трафик от одного поставщика услуг к другому.

Физическая часть — логическая структура интернета накалывается на существующую систему связи. Существующая система связи состоит из операторов связи различного уровня:
-	Магистральный оператор связи
-	Региональный оператор связи
-	Локальный оператор связи

Аппаратура строится на своих элементах. Логическая часть (ISP и клиенты) подключаются к аппаратной части системы связи различным способом. Связь между операторами осуществляются с помощью центров обмена (Internet Exchange). В центрах осуществляется передача трафика из одной сети в другую. С точки зрения связи ISP делится на 4 категории, которые называются «tier»:
-	__Tier 1, 3, 4__ — Магистральные, региональные, и локальные поставщики услуг.
-	__Tier 2__ — локальны оператор имеющий договора с другим оператором связи, которые не предоставляет информационные услуги интернета.

Локальный оператор связи — пример телефонной АТС. Выполняет передачу трафика с одной АТС на другой. Для обеспечения передачи данных АТС разделяет голосовой трафик и трафик данных. Голосовой трафик передается на конечное оборудование абонента, трафик данных — поставщику услуг, который подключен к данной АТС и которая имеет с ним соглашение.

### Взаимоотношения между операторами связи

Часто в зарубежной литературе операторы связи, которые предоставляют услуги другим операторам называется оператором операторов (carrier of carriers). Бывают следующих типов:
-	__CLEC__ (Competitive Local Exchange Carriers) — после 1994 г.
-	__ILEC__ (Incumbent  Local Exchange Carriers) — существующие операторы связи до 1994г.
-	__IXC__ — транснациональные операторы связи.

CLEC и ILEC отличаются тем, что в ILEC не только осуществляется передача трафика, но может быть и первичная обработка. Для подключения клиентов к логической части, операторы связи организуют точки присутствия POP (Point of Presents) вместо размещения оборудования подключения линии связи, идущих от «соседей» и абонентов. К POP подключаются клиенты интернета и таким образом происходит разделение на голосовую часть и чать передачи данных существующих соединений связи

### Типы провайдеров

По видам предоставления услуг интернета можно выделить категории ISP:
-	__ICP__ (Internet Content Provider) — ISP, который имеет собственные ресурсы интернета (например в виде сайтов). Возможно что ISP является ICP
-	__HSP__ (Hosting Service Provider) — представляет свои серверы и помещения для размещения информации других предприятий.
-	__PSP__ (Peering Service Provider) — провайдер по оплате счетов.

Интернет, который мы видим — логическая часть — реализуется на существующей системе связи.

### Сетевые характеристики

В качестве сетевых характеристик выступают формализованные характеристики качества сетевых услуг. Типовые характеристики сети следующие:
-	__Производительность__ — средняя скорость передачи данных трафика
-	__Надежность__ — характеризует передачу трафика без потерь и перерывов обслуживания.
-	__Безопасность__ — характеризует уровень защиты данных от несакнкционированного доступа.
-	__Маштабируемость__ — сети должны выполнять первые три требования при значительном увеличении пользователей.

Качество предоставляемых услуг в количественных терминах описывается в договоре с поставщиком услуг, который называет SLA (Service Level Agreemnet). В договоре может быть установлено, что поставщик услуг передает трафик с такой же скоростью, что и пользователь, когда он передает в сеть, при этом может быть указан период времени передачи трафика.

 ### Производительность
Каждый бит должен передаваться с постоянной задержкой. Потери не может быть. Пакеты передаются и принимаются в одинаковом порядке, в котором они переданы.

_Реально:_
1.	Пакеты приходят с разной задержкой. Является следствием случайной величиной очереди пакетов на узлах различной характеристикой сетевого оборудования и линий связи. Может быть реально в десятке раз больше средней. Пример — переда речи в цифровом режиме или видео может исказить картинку или речь.
2.	Пакеты могут доставляться на приемную станцию не в той последовательности как они передавались. Является следствием того, что идут разными маршрутами по сети, а значит обслуживаются в различных очередях.
3.	Пакеты могут теряются или приходить с искаженными данными, ввиду ошибок при передачи, помехами или сбоями технических средств. Средняя скорость на входе узла может отличаться от средней скорости на узле отправителя. Для измерения качества применяются статистические методы.

# Лекция 6

### Характеристики скорости передачи.
__Скорость передачи данных__ (Information rate) — частное от деление объемное передаваемых данных на продолжительность измерительного периода.

__Средняя скорость передачи данных__ (Substaine Information Rate) — определяется как скорость передачи данных на большом периоде времени.

__Пиковая скорость передачи данных__ (Peek Information Rate) — наибольшая скорость передачи данных в сети. Характеризует способность сети справится с пиковой нагрузкой.

__Величина пульсации__ - используется для оценки емкости буфера узлового устройства, необходимого для хранения данных, в случае перезагрузки узлового устройства.

```
B = PIR x T
```
T — период пульсации

__Коэффициент пульсации трафика__ - отношение максимальной скорости к средней скорости, измеренных на длительном интервале времени.

### Надежность сети
Одним из показателей является характеристика потери пакетов.

```
L=NL/N
```

NL — Кол-во потерянных пакетов.

N — Кол-во переданных пакетов.

__Доступность__ (availability) — время, в течение которого сеть находится в работособном состоянии и предоставляет сетевой сервис. Пример сети высокой доступность - КТСОП.

__Отказоустойчивость__ (Fault Tolerance) — Надежность передачи данных обеспечивается некоторыми решениями. Например — применение альтернативных маршрутов следования трафика. Идея:
1.	 Сеть определяет альтернативные маршруты только после отказа основного. В таблице продвижения пакетов по сети для каждого информационного потока определен только один маршрут. После отказа линии связи в маршруте (или коммутирующего устройства) начинается поиск другого, альтернативного маршрута. Возможно, что это будет занимать десятки и сотни секунд, в зависимости от сложности сети. Если есть протоколы без установления соединения и маленький размер буферов узловых устройств, может быть потеря пакетов на время поиска, что не эффективно.
2.	Сеть заранее устанавливает и использует два маршрута для информационного потока, образуя избыточный поток (незаметный для пользователя), хотя данные идут по двум маршрутам, получателю попадает только один. Один маршрут основной, второй — резервный. В случае отказа основного, пользователь получает данные с резервного. Недостаток — повышение нагрузки в сети. С точки зрения надежности — эффективно
3.	Сеть заранее устанавливает два маршрута, а использует только один. При отказе осуществляется переключение на альтернативный маршрут. Недостаток — возможность потери данных, отправленных по отказавшему маршруту.

Повторная передача и скользящее окно. Используется в протоколах с установкой соединения. Идея — отправитель нумерует отправляемые кадры, и для отправляемых кадров ожидает прибытие квитанции положительного подтверждения (ACK) (Positive Acknowledgement) — кадр получен получателем и данные в нем корректны.

Время ожидания квитанции, как правило, ограничено. При отправке запускается таймер и если по истечению его времени квитанции нет, кадр считается утерянным.

### Безопасность сети

В соответствии законодательством РФ, любая автоматизированная система должна включать средство защиты информации. Как правило для АЕС в целом все средства разделяются на 2 класса:
1.	Средство защиты информации от утечки по техническом каналам (СЗИ). Включает в себя защиту помещений, объектов, в которых находится АЕС от утечки информации, связанной с излучением, наводкой и аналогичными вещами.
2.	Средство защиты информации от несанкционированного доступа в АЕС. Программно-аппаратные средства для защиты от действий злоумышленника, направленных на получение информации или выводы системы из строя. СЗИ на основе двух подходов:
	1.	По требованию руководящих документов. Существует нормативная база, в которой указано в какой АЕС какие средства защиты информации должны стоять.
	2.	По модели нарушителя. Относится к конкретной АЕС, когда возможно оценить угрозы на АЕС, выявить уязвимые места и оценить риск.

__Угрозы__ - возможные действия нарушителя. Нарушитель угрожает всегда.

__Уязвимости__ - места в автоматизированной системе, через которые могут быть реализованы угрозы.

__Риск__ - Степень (вероятность) реализации угрозы, через имеющуюся уязвимость. Если риск высокий, то предпринимаются меры по снижению риска. Снижение риска осуществляется за счет защитных мероприятий — нейтрализация уязвимости (сокращение уязвимых мест). Пытаются снизить риск такими способами, чтобы это было не очень дорого. Решение принимает хозяин АЕС.

Существует большое кол-во руководящих документов по защите информаций средств АЕС. Каждое гос-во имеет свои, которые не пересакаются. В России одним из основных являются документы РФ ФСТЭК. В зависимости от грифа обрабатываемой информации, доступа, пользовательский режими, определяет компоненты, которые должны быть в средствах защитах информации. Все АЕС делятся на классы. Каждый класс включает набор требований к АЕС и содержимым АЕС СВТ. В целом можно выделить следующие компоненты средств защиты информации:
1.	__Подсистема управления доступом.__ Определяет способ получения доступа субъектов АЕС к защищенным объектам АЕС (мандатная модель, дискретционная модель).
2.	__Подсистема журналирования.__
3.	__Криптографическая подсистема.__
4.	__Подсистема тестирования.__
5.	__Конструкторская документация.__
6.	...

Все программные средства проходят проверку на отсутствие недекларированных возможностей и соответствия декларируемых возможностей и реальных. Применяются статические и динамические методы анализа (исходный код и трассировка соответственно)

### Физический уровень
На уровне выполняется непосредственно передача сигналов без потерь и искажений, т. е. Определяются временные характеристики сети.

# Лекция 7

Последовательности прямоугольных импульсов имеют широкий спектр частот при разложении (надо много гармоник различных частот, чтобы сложить их и получить исходный сигнал). Естественно не все гармоники проходят по линии связи без искажений и затуханий,  некоторые вообще не проходят. Поэтому передавать сигналы с большой полосой в линию связи не представляется возможным. Их нужно передавать на небольшие расстояния и с малой скоростью.

Задача — как увеличить скорость передачи информации, передаваемой по линиям связи.

Идея — преобразовывать дискретный сигнал (1 и 0) таким образом, чтобы исключить большое кол-во гармоник при его передачи. Для этого используется модуляция сигнала.

Различают 4 основных типа модуляции:
-	__Амплитудная__ - для передачи импульсного сигнала (1 — есть импульс, 0 — нет) используется одна гармоника, полностью проходящая без искажений по линии связи. Если надо передать 1, то гармоника имеет амплитуду A1 [Слайд 12], если 0 — 0.
-	__Частотная__ - При передачи 1 и 0 используется две частоты (две гармоники), также проходящие по линии связи без искажения. При этом, 1 — гармоника одной частоты, 0 — гармоника другой частоты [Слайд 12, рисунок в].
-	__Фазовая__ - для передачи 1 и 0 используется различные сдвиги фаз, гармоники, передаваемые в линию связи. Если 1, то осуществляется сдвиг фазы на 90°, если 0 — то на 90 с небольшим [Слайд 12, рисунок г].
-	__Смешанная__ - в этом случае, в каждый момент времени передаются амплитуды, фаза и сдвиг, присущий какому-то значению группы символов. То есть, за каждый момент времени передается некоторый отсчет, который включает несколько битов. Пример:
    1.	Символ состоит из 2 состояний: 0 — 0V, 1 — 1V, v = 2400 бит/с.
    2.	Из 4 состояний: 0.0V; 0.25V; 0.5V; 0.753V v = 4800 бит/с.
    3.	Из 16 состояний: Амплитуда: 0.1V; 0.25V; 0.5V; 075V, Фаза: 0°; 90°; 120°; 180°; v = 4*v{0}

>	Кол-во символов (отсчетов — каждый отсчет — несколько битов), передаваемых в линию связи измеряется в __бодах__. За каждый бод передается один символ.

Скорость бодов не равна скорости бит/с.
На скорости 2400 бод (x 4 = 9600 бит/с). То есть передается 4 бита.

Модемы используют смешанную форму модуляции для передачи битов в одном боде. Пример: квадратурная фазовая модуляция — QPSK; QAM; QAM-64 [Слайд 13]

>	Диаграммы, показывающие комбинации амплитуды и фаз называются диграмой созвездий.

У каждого модема своя диаграмма. Для взаимодействия должны иметь одинаковые диаграммы или уметь перестраиваться на другую диаграмму.

Чем больше точек на диаграмме, тем больше вероятность ошибки. Для устранения возможной ошибки применяют методы коррекции ошибок. Для этого в каждый отсчет (поток битов отсчета) включают биты коррекции.

### Протоколы, использующиеся модемами

__V32__ - Имеет 32 точки на диаграмме, 4 бита информациионых, 1 бит контрольный. Всего 2^5. На линии в 2400 бод дает скорость 9600 бит/с.

__V32 bis__ - 6 битов + 1 контрольный. Дает скорость 14400 бит/с.

__V34__ - 12 битов + 1 контрольный. Скорость — 28800 бит/c.

__V34 bis__ - 14 битов + 1 контрольный. Скорость — 33600 бит/с.

Модемы передают данные в трех режимах:
-	__Симплексный__ - передача только в одном направлении.
-	__Полу-дуплексный__ - поочередно в двух направлениях.
-	__Дуплексный__ - одновременно в двух направлениях.

Для реализации дуплексного режима в одной линии связи используются способы: разные частоты несущих в одном и другом направлении. Пример: протокол V90 в сторону провайдера передается со скоростью 33600 бит/с, обратно 56000 бит/с на скорости 4000 бод.

### Цифровые абонентские системы

Системы связи, использующие линии связи с расширенной пропускной способностью, называются широкполосными сетями или цифровыми абонентскими линиями (DSL). Наиболее известная технология — ADSL (Asymetric Digital Subscriber Line). Принцип действия этот системы связи основан на том, что фильтр, стоящий на входе и выходе линии АТС, который ограничивает пропускание канала ТЧ для голосовой связи (0.3-3.4 кГц) — отсутствует.

Абоненты ADSL подключаются к специальному коммутатору, ограничивающий фактором является длинна и толщина линии связи, а не искусственно вырезанная полоса ТЧ. График зависимости потенциально достижимой скорости передачи представлен на [Слайд 14]. Далеко за пределами АТС скорость передачи низкая. Для того чтобы повысить скорость передачи всю частотную полосу абонентской линии делят на три диапазона [Слайд 15]: Диапазон частот телефонной сети (0.3 — 3.4 кГц), диапазон частот исходящих каналов, диапазон частот входящий каналов. В ADSL используется дискретно-мультитоновая модуляция. Полосу частот всего спектра абонентской телефонной линии (из дома до АТС), которая равна 1.1 МГц делят на 256 независимых каналов:
-	0 канал — для разговорной речи
-	1 — 5 — резерв, промежуток между телефонным каналом и каналом передачи данных
-	6 — 250 — для передачи данных.

Из 250 для передачи данных, один канал контрольный для входящиего и один для исходящего трафика. Всего 248 каналов для передачи входящего и исходящего трафика.

Провайдер ADSL может сам определить сколько выделить частотных каналов для входящего и исходящего трафика — метод частотного уплотнения: вся полоса частот используется полностью, уплотняется. Описывается стандартом ANSI T1.113, ITU 6.912.1.

Пример: при 224 каналов, 15 битов в отсчете, скорости передачи 4000 бод, скорость будет равняться 22415*4000 = 13.44 Мбит/с — максимальная скорость для ADSL. На практике не более 8 Мбит/с. Таким образом технология ADSL имеет групповую скорость, т. е. Передает по нескольким каналам внутри одной линии связи. В каждом канале используется схема модуляции QAM.

### Организация ADSL

В помещении у абонента устанавливается устройство сопряжения с телефонной сетью, которое называется NID (Network Interface Device). Его задача — выделить речевой канал, то есть является фильтром. Все остальные части передаваемого сигнала идут на обработку. Их принимает ADSL модем. ADSL модем подключен к компьютеру. Модем может работать на 250 частотах с QAM модуляцией одновременно.

На стороне АТС стоит устройство — разветвитель — так же отделяет голосовую составляющую, которая уходит на телефонный коммутатор, а все остальные частоты направляются на мультиплексор DSLAM (Digital Subscriber Line Access Multiplexor). В его состав входит такой же модем ADSL, как у абонента.

###  Магистральные линии

Была рассмотрена связь между абонентом и АТС. Таких абонентов может быть много. АТС коммутирует трафик по различным направлениям. То есть передает телефонные каналы и каналы передачи данных на другие АТС, в соответствии с адресом. Каналы, в которые передаются АТС очень много. Предположим, что они являются каналами ADSL [Слайд 15].

Существуют несколько подходов для передачи большого кол-ва каналов между АТС:
-	__Частотное уплотнение__ (FDM — Frequency Division Multiplexing) — частотный спектр магистральной линии делится на частотные каналы и в каждом канале передается свой абонентский канал. Далее группа каналов может быть так же уплотнена.
-	__Временное уплотнение__ (TDM — Time Division Multiplexing) — имеющиеся каналы в магистральных линиях используются не одним абонентом, а несколькими по очереди. То есть на короткие промежутки времени, в канал помещается информация различных абонентов по очереди.

Уплотнение каналов с помощью FDM возможно более 230000 каналов в группе. То есть в одном канале магистральной линии идет группа из 230000 каналов. Реализуется аппаратурой уплотнения.

Временное уплотнение используется в магистральных линях для передачи аналоговых сигналов, выраженных в цифровом виде. Структура система связи — [Слайд 18]. Идея — имеется сложный аналоговый сигнал, который необходимо передать в линию. По этой технологии происходит преобразование аналогового сигнала в цифровой. Для этого с частотой дискретизацией снимается значение сигнала и преобразуется в цифру. Значения сигнала передаются в линию в цифровом виде. Для этого отводится принятое кол-во бит (напрмер 8). На приемном конце из полученных цифр восстанавливается сигнал. Значение трафика увеличивается. Каждый бит цифры передается одним из способов модуляции.

Достоинства — если можно передать без искажений цифровой код, то на приемном конце информация будет выставлена абсолютно точно с передаваемой. Для передач без искажений отдельных битов в цифре , используется помехоустойчивое кодирование, позволяющее находить и исправлять ошибки.

Один из возможных вариантов оцифровки является схема «Носитель Т1» - используется для передчи 24 канала, каждый из которых передает 8 бит. Для сокращения трафика используются методы сжатия:
-	__Дифференциальная кодовая модуляция__ - в этом случае передается не значение амплитуды сигнала, а разность между соседними отсчетами.
-	__Дельта модуляция__ - Передается не значение разности между отсчетами, а 1 или 0, следующее значение больше на определенную величину, 0 — такое же. [Слайд 19]

Весь аналоговый сигнал заменяется передачей амплитуды и последовательной передачей 0 или 1.

Значение оцифрованного сигнала передаются поочередно в каждом канале линии, упрощенная схема оцифровки сигналов на [Слайд 18]

### Спектральное уплотнение.

# Лекция 8

Более сложный — электронный АТС, где коммутацию осуществляет управляющая ЭВМ. В общем случае модель коммутации [Слайд 23]

При коммутации каналов, на время связи, осуществляется проключение и канал становится занятым на все время связи — не очень хорошо.

__Коммутация сообщений__ - применяется в телеграфных системах связи. Идея: физический путь заранее между абонентами не проключается, сообщения буферизируются и передаются с одной коммутационной станции на другую, «как бы прыжками» от одного коммутатора до другого.

Каждый блок принимается целиком, проверяется на ошибки, и передается далее. Длинна сообщения, как правило, ограничивается размером буферов.

__Коммутация пактов__ - Идея: информационный пакет разбивается на части, каждой части прикрепляется адрес назначения и все части идут до адресата самостоятельно. На узлах коммутации (как правило, маршрутизаторов) определяется исходящее направление до получателя и какая-то часть направляется в эту сторону. Возможно рассылка веером во все направления. Длина пакета так же ограничивается размерами буферов и быстродействием обработки информации. Достоинство — устойчивость к сбоям. Возможно направлять отдельные части в обход сбойных участков сети или сильно занятым. Пакетной коммутации так же соответствует свои протоколы.

## Среда передачи
### Витая пара
Используется в локальных сетях (в некоторых линиях телефонной связи)

Представляет собой: два изолированных медных провода, диаметром 1мм (обычно). Провода свиваются в виде спирали, чтобы не образовывалась антена из проводов. Антена — источник информации или источник шумов — подавление сигнала. Полоса пропускания 16Мгц.

Категория 5 имеет больше витков при скрутке, чем 3 категория, на сантимер длинны. Позволяет еще больше уменьшить наводки. Пропускная сбособность 100МГц.

Смотри Unsheilded Twisted Pair.

### Коаксиальный кабель

Для передачи на большие расстояния. Используются с волновым сопротивления на 50 и 75 ОМ. Пропускная способность 1ГГц. Используется для передачи телевизионного сигнала к телевизионным приемникам.

### Волоконно-оптический кабель
Система представляет собой:
-	источник света
-	носитель по которому распространяется световой сигнал
-	приемник света

Провод — сверхтонкое стеклянное волокно. 1 — световой импульс. 0 — нет импульса, электрический сигнал на входе, преобразуется в световой. Идея — при переходе света из среды в среду световой луч отклоняется.  Если угол падения внутри перехода сред больше некоторого критического угла, весь свет отражается внутрь стекла. Весь свет может быть передан на большие расстояния без потерь (полное внутренне отражение). [слайд 26]. Это свойство луча называется модой. Оптическое волокно, которое может передавать несколько лучей — многомодовым. В настоящее время, одномодовое волокно может работать десятки гигабит в секунду на расстоянии 100 км. Структура оптоволоконного кабеля сходна с коаксиальным кабелем (только без земляного экрана).

Многомодовое оптоволокно — диаметр 50мкм, одномодово — 8-10мкм.

Для передачи спектра — используются специальные диоды.

Приемник — фотодиод. Идея: при попадании на фотодиод света, он пропускает ток.

Для увеличения длинны применяют ретрансляторы — свет преобразуется в электрический сигнал, он усиливается и преобразуется в световой.

###  Использование беспроводных линий связи.
Движение электронов по антенне порождает электромагнитное излучение, которое распространяется в пространстве. Если ток — синусоида, то электромагнитный импульс тоже синусоида. Расстояние между двумя максимума — длина волны.

Эфир разбит на частотные диапазоны [Слайд 29]. Как правило для передачи информации используются радиоволны. Микроволновой диапазон и диапазон видимого света. При этом используется амплитудная, частотная и фазовая модуляция. Зная ширину диапазона длин волн эфира, который используется для передачи информации и соответсвующий диапазон частот можно определить соответствующую диапазону частот максимальную скорость передач из формулы: v_max = delta_f * log_2(1_S/N).

Волны могут преодолевать большие расстояние, проходить сквозь стены, огибать здания, распределять во всех направления.

### Свойства радиоволн

1.	На низких частотах ≥ 10^4 мощность сигнала резко падает по мере удаления от передатчика, но проходят сквозь препятствия (длинные волны). Соотношение мощности от удаленности обратно пропорционально R^2.
2.	На высоких частотах радиоволны распространяются по прямой линии и отражаются от препятствий (УКВ, FM). Как правило используется для связи на коротки расстояниях и в прямой видимости. Абонентские комплекты радиостанций продаются в салонах связи.
3.	Частоты 10^6 — 10^8 поглощаются землей, но те, которые доходят до ионосферы (высота 100-500 метров) отражаются от слоев ионосферы и возвращаются на землю (коротковолновая связь).

# Лекция 9
Использование инфракрасных диапазонов волн. Для связи на небольших расстояниях. (пример — пульт). Не проходят через стены.

Использование электромагнитных волн видимого диапазон. Например, использование лазера. Проблемы: узкий луч лазера, сложность настройки, точеченость приемника. Используются специальные линзы для расфокусировка.

### Виды орбитальных группировок
Для организации спутниковой системы связи необходимо определить орбиту, на которой будет находиться космический аппарат. Высоты орбит не могут быть произвольными. Вокргу земли находятся два облака ионизирующих слоев, отрицательно влияющих на связь — пояса Ван-Алена. Первый пояс находится на высотах 1,5 — 4000 км, его толщина — 600 км. Второй на высотах 13к — 19к км, ширина — 500 км. В соотвествии с поясами выделяют высоты орбит для спутниковых систем связи:
-	LEO. 500 — 2000 км. (low)
-	MEO. 5000 — 15000 км. (middle)
-	GEO. 36000 км
-	HEO. (high eleptic). Земля в одном из фокусов эллипса. Высота в апогее 7-7000 км, перегее 400 — 500 км.

Каждая из орбит обладает своими достоинствами и недостатками.

### GEO
Период обращения спутника строго соответсвует периоду вращения земли. Поэтому спутник на GEO неподвижно висит над заданной точкой земли. __Достоинства__: трех спутников на GEO достаточно, чтобы он был виден из любой точки земли. __Проблема__: близко расположенные спутники мешают работе друг друга. Поэтому по Международному Комитету Регистрации Частот, поэтому шаг стояния спутников 1°. Таким образом возможно 720 точек стояния. В одной точке может быть несколько спутников одного владельца. __Недостаток__: на высокой орбите появляется задержка распространения сигнала, в 2 — 3 больше, чем допускается в телефонии; высокая орбита — повышенные требования к мощности передатчиков — большие размеры антенн; для вывода спутника на высокую орбиту требуется мощный ракетоноситель. Как правило в широтах выше 76°, спутники на GEO орбите становятся плохо видимыми.

###  HEO
Характеризуются углом наклона плоскости орбиты к плоскости экватора, а так же координатами узлов орбиты (точка ее пересечения с плоскостью экватора) и эксцентрическом (отношением большой и малой оси эллипса). Период вращения спутника выбирается кратным суткам. __Проблемы__: Обеспечить стабильное положение орбиты спутник трудно, требуется его корриктировка. Спутник на HEO обязательно пересекает пояса Ван-Алена.

### MEO
Зона охвата спутника ниже, чем GEO и HEO. Время пребывания видимости в наземной станции: 1, 5 — 2 часа. Для организации спутниковой связи необходимо около 10 спутников. Наиболее известная система — РосТелеСат. __Недостатки__: увеличение числа спутниковой группировки, постоянная смена расположения спутников. __Достоинства__: снижение требований к мощности передатчиков.

### LEO
Ниже первого пояса Ван-Алена. Как правило круговые.
__Достоинства__: малая мощность передатчика, небольшие размеры антенн, сравнимые с антеннами телефонов, малые задержки распространения. __Недостаток__: большое число спутников группировки. Малая зона радиопокрытия (абонентская станция находится в зоне спутника несколько минут).

Быстрое движение спутников — долгое нахождение в тени — частая подзарядка аккумуляторов, а так же коррекция орбиты — малый срок жизни (5 — 7 лет).

## Архитектура спутниковой системы связи
Основные компоненты:
-	Пользовательская (абонентская) аппаратура
-	Бортовая аппаратура (спутник)
-	Управляющая аппаратура

Системой управляют несколько наземных станций, которые сопрягаются (в свою очередь абоненты наземных систем связи). Спутники выполняют роль ретрансляторов. Возможны три направления передачи информации:
-	Земля — Спутник (восходящий канал)
-	Спутник — Земля (нисходящий канал)
-	Спутник — Спутник (Бортовая аппаратура спутника может выполнять функцию маршрутизации трафика, поддерживая несколько независимых каналов приема-передачи).

В целом спутники могут содержать различное число транскодеров. С точки зрения зоны обслуживания выделяют:
-	__Глобальные__ — охватывают значительную часть территории Земли. (Intelsat, Immarsat)
-	__Региональные__ — обслуживания региона. (Молния, Entersat)

Спутниковые системы связи принято так же делить на:
-	Системы фиксированной спутниковой связи (Intelsat)
-	Системы подвижной спутниковой связи (Immarsat)

# Лекция 10
Как правило, различают несколько типов мобильной связи (телефонной связи), например радио-телефон. Используют частоты УКВ диапазона, состоят из базовой станции и нескольких трубок, базовая станция по проводу «привязывается» к районной АТС, к телефонные трубки по радио-каналу  привязываются к станции. Связь осуществляется между базовой станцией трубки. Базовая станция преобразует сигнал принятой телефонной линии. Дистанция между базовой станцией и трубкой зависит от мощности передатчика в базовой станции телефонной трубки и размера антенны. УКВ связь — в пределах прямой видимости.

Каждое поколение представляет собой реализацию группы протоколов, которые пытаются наиболее эффективно использовать радиочастотный спектр. Для этого применяют различные способы уплотнения каналов, в результате чего, алгоритмы становятся очень сложными. Все подходы разобрать нет возможности — несколько связных курсов. Эта система мобильных телефонов (автомобильных) появилась в 1942г. Поддерживалось 23 дуплексных канала (23 абоннента). Если все каналы были заняты. Новая телефонная трубка подключится не могла.

1982г. - первая живая телефонная система, на которой в последующем строилась сотовая связь, которая усовершенствовалась — AMPS (Advanced Mobile Phone System).
Вся система делилась на соты (10 — 20 км в диаметре). Каждая сота работала на своих частотах. Мощность 0.6Вт. Соты объединялись в группы по 7 сот. Между ячейками с одинаковым набором частот образовывался буфер в две ячейки шириной с другими частотами.

Базовая станция, которая имеет наибольший сигнал от телефона, получает управление им. Базовая станция передает управление.

D-AMPS IS-54, IS-136 является полностью цифровой системой связи. Аналоговый голосовой сигнал преобразуется в цифру, цифра сжимается, предаются с помощью модуляции. На другом конце восстанавливается цифра и исходный аналоговый сигнал.

Мобильные телефоны AMPS полностью совместимы и могут работать в D-AMPS. Существует опция для определения аналоговых и цифровых телефонов. Исходящие каналы: 1850 -1910 МГц. Входящие: 1930 — 1990 МГц. Длинна волны — 16 см. Антенна — 4 см.

Сжатие цифры происходит кодером на дельта модуляцию — снижает траффик. Кроме того, включена опция

### GSM
992 канала 299кГц. Канал могут использовать 25 абонентов. Канал случайного доступа, по которому запрашивается выделение канала, канал предоставления доступа используется для объявления номера канала. Есть и другие.

Архитектура [Слайд 58]

Сеть GSM скомпонована из 3 подсистем:
-	Подсистемы базовой станции
-	Сетевой подсистемы
-	Управляющей подсистемы

Мобильная станция (телефонный аппарат) состоит из:
-	Базовой станции мобильного оборудования.
-	SIM оборудования — предоставляется провайдером связи
-	Терминального оборудования

__Коммутатор базовой станции__ обеспечивает выполнение функций по управлению базовой станции, находящейся под его контролем (подсоединенной к нем). Позволяет выполнять:
-	Конфигурация узла
-	Управление радио ресурсам

Осуществляет первичное объединение сот к коммутатору мобильной связи. Как правило управляет десятками базовых станций.

__Коммутационный центр__ отвечает за установку соединения, функции биллинга (учета контроля оплаты) и привязку к другим системам связи (например стационарная телефонная сеть).

__Регистр перемещения__ - содержит динамически изменяемому информацию о пользователях, которые в настоящий момент подключены к сети, включая географическое местоположения. Включается в состав коммутационного центра.

# Лекция 10

### GPRS
GPRS (General Packet Raido Service) построена на D-AMPS или GSM. Позволяет обмениваться IP пакетами по каналу ТЧ сотовой связи. Внутри аппаратуры GPRS для передачи данных используются свои протоколы, в том числе отличные от стека TCP/IP.

### Архитектура GPRS
Система GPRS работает в одном из трех режимов:
-	Класс A — мобильная станция поддерживает одновременное использование служб GSM и GPRS
-	Класс B — мобильная станция может подключаться к двум службам, но может работать одновременно только с одной (либо передача голоса, либо передача данных)
-	Класс C — мобильная станция подключается либо к службе GSM, либо к службе GPRS.

Перед тем, как мобильная станция получит доступ к услугам GPRS она выполняет услугу присоединения. После она активирует протокол передачи данных — PDP (Packet Data Protocol). Радиоинтерфейс между мобильной и базовой станцией идентичен GSM. В основе GPRS лежит усиленная базовая станция GSM. Для этого интегрированы два сетевых элемента для поддержки услуг GPRS:
-	SGSM
-	GGSM

Дальнейшим развитием GPRS является технология __Edge__.

Узел __SGSM__ подключен к одной или нескольким системам базовой станции и действует, как маршрутизатор для передаваемых пакетов данных всех мобильных станций.

Узел __GGSM__ обеспечивает взаимодействие между внутренней сетью GPRS и интернетом (является шлюзом).

Остальные элементы (HLR и VLR …) такие же как в GSM.

### Система UMTS
Международный Союз Телекоммуникаций (ITU) занимается разработкой стандартов для международной мобильной телекоммуникации. Основным стандартном 3G систем является IMT-2000. Одной из реализация является система __UMTS__.

Службы UMTS следующие. Стандарт 2G обеспечивает работу голосовых служб и ограниченную службу передачи данных. 3G — передача мультимедийных данных, подключение различных мультимедийных устройств. Все функции соединены в категориях:
-	Мобильный доступ в интернет, выполнение с мобильной станции передачи файлов различной структуры, почты, видео и аудио на другую мобильную станцию.
-	Доступ с мобильной станции в любую корпоративную сеть и виртуальные сети в соответствие с правами доступа.
-	Обмен мультимедийными сообщениями, как текста, так видео и аудио.
-	Определение местоположения мобильной станции. Слежение за перемещаемым объектом.
-	Поддержка IP-телефонии с мобильной станцией и видеосвязи (Skype).

Работа по созданию UMTS была разбита на несколько фаз. Архитектура — [Слайд 61]. В основе архитектуры первой фазы UMTS лежат сети GSM и GPRS, а так же специально разработанная __универсальная наземная сеть радиодоступа__. Элементы архитекутры UMTS сгруппированы в три подсистемы:
-	__Оборудование пользователя__. Сходно с оборудованием сети GSM.
-	__Сеть доступа__. Отвечает за передачу данных в одном или более узле сотовой связи.
-	__Инфраструктура коммутации и маршрутизации__. Строиться на основе протоколов внутренней сети GPRS и GSM.

Реализовать до конца UMTS не представилось возможным ввиду трудности согласования, но элементы UMTS работают.

### Edge
Усиленная GPRS технология (Enchanced Data Rate GSM Evolution) с повышенной скоростью передачи данных. Не является новым стандартом связи. Является расширением GPRS.

К беспроводным сетям передачи данных относятся так же сети радиодоступа. Один из вариантов — режим __Ad Hoc__. Когда устанавливается связь «точка-точка» между компьютерами сети. Или режим доступа с использованием точки доступа (IEEE 802.11).

## Канальный уровень
Физический уровень передает последовательность битов, канальный уровень группирует из битов кадры. В каждом содержится поле данных и концевик.

### Формирование кадров
Разбиение потоков битов на отдельные кадры может осуществляться несколькими способами:
-	__Подсчет кол-ва символов__. Используется поле в заголовке, в котором указывается кол-во символов в кадре. Принимающий компьютер видит это поле, он узнает сколько символов последует. Таким образом где будет находиться конец кадра. Недостаток — поле может исказиться, тогда принимающая станция не сможет правильно обнаружить начало следующего кадра. Повторная передача бесполезна, так как неизвестно сколько символов нужно пропустить до начала повторной передачи. Метод трудно реализуем.
-	__С использованием сигнальных байтов с символьным заполнением__. В этом случае начало каждого кадра нумеруется специальными символами (флагом). Флаг представляет собой некоторое значение битов. Это значение позволяет синхронизироваться в случае повторной передачи. Идея — находим флаг, начинаем после него принимать данные.

При передачи кодов несимвольного вида или чисел с плавающей точкой может встретиться последовательность, используемая в качестве флагового байта. Решение — добавление escape символа — знака переключения кода. Непосредственно перед случайно совпавшим с флаговым кадром ставится escape символ, что означает, что это не флаговый байт. Escape символ не передается на более высокий уровень. Настоящий флаг можно отличить от ложного по наличию или присутствию escape символа.

Управление потоком:
-	__С обратной связью__ - приемник отсылает источнику команду, разрешающую продолжать передачу. Как правило, это команда какого-то протокола, функционирующего в сети.
-	__С ограничением__ - В протокол передачи встраивается механизм, который позволяет ограничить скорость до той, с которой приемник может принимать, при этом обратная связь отсутсвует.

__Обнаружение и исправление ошибок.__

Типы и частота появления ошибок зависит от среды передачи. Вероятность ошибки — 0.1%, 1000 переданных бит — 1 ошибка. Для борьбы с ошибками применяют специальные методы. Один из них — __введение избыточности__: добавление к передаваемым данным некоторой избыточной информации, которая позволяет определить и по возможности исправить ошибки. Таким образом различают два основных способа кодирования передаваемых данных:
-	__Коды, обнаруживающие ошибки__. Используется, когда физическая среда передачи помехозащищена, ошибок мало. Если обнаружена ошибка — дешевле передать заново (случается редко), чем использовать коды, исправляющие ошибки.
-	__Коды, исправляющие ошибки__ . Ошибок много, приемник обнаруживает ошибку и автоматически с помощью математического аппарата определяет место (бит) и исправляет его (инвертирует бит).

Кодирование строится на основе следующих принципов и понятий. __Кодовое слово__, идея: кадр состоит из _m_ информационных битов и _r_ контрольных битов (избыточных). Полная кадра _n_ = _m_ + _r_. Набор из _n_ бит называется __n-битным кодовом словом__.

__Кодовое расстояние__ - кол-во битов, которыми различаются два кодовых слова [Слайд 10] (Кодовое расстояние равно 3). Смысл кодового расстояния — если два кодового слова находятся на кодовом расстоянии _d_, то для преобразования одного кодового слова в другое, понадобится _d_ ошибок в единичных битах.

Если кодовое слово _n=m+r_ то _2^m_ допустимых комбинаций информационные, _2^n_ - возможные комбинации кодовых слов, но не все из них допустимые, так как эти комбинации подсчитываются с учетом информационных битов и контрольных битов по определенному алгоритму. То есть, зная механизм формирования контрольных разрядов из информационных, можно построить список всех допустимых кодовых слов. Если получена кодовая комбинация, не входящая в этот список, то эта комбинация ошибочна, для обнаружения неправильного бита и исправления вводится понятие минимального кодового расстояния.

__Минимальное кодовое расстояние__ - минимальное кодовое расстояние между допустимыми комбинациями. Теорема: способность алгоритма кодирования по обнаружению и исправлению ошибок зависит от минимального кодового расстояния.

# Лекция 13
Синхронизация включает последовательность, которая посылается в линию постоянно, даже если данные не передаются, так называемое _фазирование_ - свзать есть, но данные могут и не передаваться, на эту последовательность получатель задает свою последовательность синхроимпульса.

Все кадры делятся на 3 категории:
-	Информационные
-	Супервизорные
-	Ненумерованные

__Поле адрес__ - адрес получателя

__Управляющее поле__ - хранит служебную информацию, данные произвольной длинны (8 бит). Имеет различную структуру и содержание для различных типов кадров [Слайд 18]. Основные позиции управляющего поля:

-	next - подтверждение, номер первого непринятного кадра (следующий ожидаемый кадр)
-	seq - кадр, порядковый номер кадра
-	p/f - используется, если кадр передается группе приемников
-	Тип - определяет тип кадра. Значения: Тип = 0 - кадр подтверждения (recieve ready), кадр сообщает номер следующего ожидаемого кадра. Применяется при отсутствии потока данных для передачи подтверждения, чтобы источник начала передавать. Тип = 1 - признак отрицательного подтверждения (reject), сообщает источнику об ошибки передачи, поле next содержит номер первого неверно принятого кадра (номер кадра, который надо передать повторно). Тип = 2 - кадр отправляет источнику, что приемник к приему не готов (receive not ready), источник должен приостановить передачу, у приемника есть проблемы с обработкой полученными кадрами (например переполнен входящий буфер). Тип = 3 - кадр выборочный отказ (selective reject). Запрос повторной передачи только указанных в поле next кадра (Таким образом возможна повторная передача любого кадра). Пример этого протокола сходен к задаче в курсовом проекте. Протокол - формат кадра + порядок их передачи. 

__Контрольная сумма__ - циклический избыточный код.

Управление потоком осуществляется на основе алгоритма «Скользящее окно». В качестве номера используется трехбитовый порядковый номер.

__Ненумерованные кадры__ применяются для служебных целей, которые не требуют предварительного соединения. Данный протокол поддерживает команды, которые обрабатываются на канальном уровне (прервать связь), в поле данных символы «srnm» - установить одного адресата ведущим, другого ведомым.

## Протокол PPP (Двухточечного соединения)
Описывается в RFC 1661, RFC 1662, RFC 1663.

Является байт ориентированным протоколом. Кадры состоят из целого числа байт. Протокол является механизмов формирования кадров, который поддерживает различные протоколы более высокого уровня. Выполняет следующие функции:
1)	Формирования кадра, обнаружение ошибок
2)	Управляет передачей (протокол управления каналом LCP - Link Control Protocol)
3)	Устанавливает соглашение по использованию протоколов сетевого уровня (обеспечиваются протоколом NCP - Network Control Protocol)

Каждый протокол сетевого уровня, которому передается информация канального уровня имеет NCP - шлюз между канальным уровнем и протоколом сетевого уровня определенного типа.

Рассмотрим PPP на примере сети коммутирования общего пользования от провайдера.

Функционирование происходит следующим образом:
1)	С рабочей станции осуществляется звонок на маршрутизатор адаптера (коммутирования телефонная сеть - номер провайдера)
2)	Маршрутизатор провайдера устанавливает с рабочей станцией канал связи (физическое соединение).
3)	Рабочая станция посылает серию пакетов LCP маршрутизатору провайдера. Пакты включаются в поле данных кадров протокола PPP (LCP - подпротокол PPP). LCP определяет параметры обмена.
4)	Обмен между рабочей станцией и маршрутизатором провайдера NCP пакетами для определения соглашений по использованию того или иного сетевого протокола у приемника и передатчика (канальный уровень один, а с сетевым уровнем могут работать несколько приложений, использующие различные стеки сетевых протоколов, поэтому сетевых уровней может быть несколько. Пусть запускается стек протокола TCP/IP. Рабочей станции нужен IP-адрес. Провайдер динамически назначает рабочей станции IP-адрес - это делает протокол NCP для IP. Как только IP-адрес получен, рабочая станция становится частью инетрнета - может получать и передавать пакеты.
5)	При выключении рабочей станции используется протокол NCP для IP, по которому адрес IP освобождается.
6)	С помощью протокола LCP осуществляется разрыв соединения на канальном уровне.
7)	Рабочая станция дает команду модему освободить канал (повесить руку).

Формат кадра включает следующие основные поля:
-	Флаг - начало и конец кадра.
-	Адрес - устанавливаются все единицы, так соединения точка-точка.
-	Поле управления - константа.
-	Поле «протокол» - определяет тип пакета в поле «данные»: LCP, NCP, IPX, IP
-	Поле «данные» - длина 1500 байт и поле контрольная сумма.

В RFC определены 11 типов пакетов LCP.

## Протоколы канального уровня широковещательных сетей
__Широковещательные сети__ - сети с одной, общей для всех, линией либо каналом связи, которые совместно всеми используется, например - эфир.

Кадры, которые пересылаются в линию связи получают все рабочие станции сети. Обрабатывает кадр, только та рабочая станция, которой он предназначен. Главная проблема широковещательных сетей - если несколько рабочих станций одновременно хотят в общий канал, кому предоставить этот канал. Протоколы, которые используется для определения, кто будет использовать канал первым относятся к подуровню протоколов канального уровня - MAC (Media Access Control). Не путать с MAC-адресом.

В общем случае можно выделить 2 основных подхода распределения моно канала:
-	Статический (частотное временное уплотнение). Недостаток, если работают много рабочих станций, но не интенсивно, разделяемые по частоте каналы будут использоваться не эффективно.
-	Динамический. Моно канал выделяется по определенному алгоритму в режиме времени близкому к реальному, по готовности к передаче.

В основе широковещательных сетей лежат следующие соглашения:
1)	Станционная модель. Имеется n независимых станций, в каждой из которых формируется кадр для передачи. Как только кадр сформирован, станция пытается передать его в моноканал.
2)	Канал доступен для всех станций, если не предпринять никаких действий, то две станции и больше могут начать передачу одновременно. Кадры накладываются друг на друга, искажаются и принять их становится невозможно - __коллизия__. Все рабочие станции могут обнаруживать конфликты. В случае конфликта, рабочая станция передает свой кадр заново.
3)	Непрерывное время. Передача кадров может быть начата в любой момент времени. Не существует каких-либо синхроимпульсов, которые делят интервал на дискретные участки.
4)	Дискретное время. Передача начинается в определенные моменты времени, которые называются началом такта.
5)	Контроль доступа к каналу (доступность канала). Способ доступности канала:
	1)	С контролем несущей. Может определять свободен канал или нет. Если несущей частоты нет - канал свободен
	2)	Отсутствие контроля несущей. Рабочая станция может передавать без попыток определения есть несущая или нет.

### Примеры реализации широковещательных сетей
Система ALOHA

Принцип построения

Система широковещательной радио связи. Различают
-	_чистое_ ALOHA. Время не делится на дискретные интервалы.
-	_дискретное_ ALOHA. Время делятся на дискретные интервалы.

### Чистое ALOHA
Идея. Разрешить любой рабочей станции передачу, как только она сформировала кадр. Если будет коллизия, кадр будет разрушен, рабочая станция может установить, разрушен кадр или нет (сама пытается принять свой кадр из эфира, если не может принять - разрушен). Если кадр не принят, отправитель пытается отправить его снова, через некоторое случайное время. Системы, в которых несколько рабочих станций ждут доступность моно канала, в котором возникают коллизии называются системами с конкуренцией.

### Дискретное ALOHA
Время разбивается на дискретные интервалы. В системе устанавливается специальная станция. Кадр передается по сигналу такта. Эффективность осуществляется кол-вом передаваемых кадров без коллизии - производительностью канала. Если в качестве передаваемых параметров использовать пуассоновского распределение, то в общем случае производительность моно канала можно представить, как произведение _s = g * P0_. Где s - эффективность, g - кол-во рабочих станций широковещательной сети, P0 - вероятность того, что кадр не пострадает во время передачи.

### Протоколы множественного доступа с контролем несущей
В системе ALOHA возникает большое кол-во коллизий, так как рабочие станции пытаются передать кадры без учета состояния моно канала. Протоколы учитывающие состояние моно канала, называются протоколами с контролем несущей.

### CSMA
(Множественный доступ с контролем несущей)

Когда станции готовы передать кадр, она прослушивает канал, определяя свободен он или занят. Если моно канал занят, то рабочая станция ждет, когда он освободится, когда канал освобождается, она передает свой кадр. Если в сети много рабочих станций и все увидели, что канал освободился, начать передачу могут много станций - коллизия, тогда рабочая станция ждет случайное время и пытается передать.

CMSA делятся на 3 типа протоколов:
-	__Однонастойчивый протокол CMSA__. Станция может передать кадр только тогда, когда канал свободен.
-	__Ненастойчивый CMSA__. Станция прослушивает освобождение канала, но не захватывает его сразу после освобождения, а ждет в течение некоторого времени, а затем, если он свободен, то передает. Дает меньшее кол-во коллизий, но большее время ожидания.
-	__Протокол CMSA с настойчивостью P__. Когда станция готова передать, она опаршивает канал, если канал свободен, то она с вероятностью P начинает передачу. Если занят, она через некоторое случайное время снова опрашивает состояние канала.

Соотношения производительности моно канала различного типа показаны на [Слайд 22]

### CSMA с обнаружением конфликтов
Идея. Передача прекращается, если обнаруживается конфликт.

Концептуальная модель протокола. Время делится на несколько интервалов: период передачи кадра, период конкуренции, состоящей из инетрвалов конкуренции и периоды простоя.

T0 - одна из рабочих станций закончила передачу и все остальные станции могут передавать по моно каналу кадры. В общем случае модель обеспечивает минимальное время обнаружения конфликта, которое определяется временем распространения сигнала от одной станции к другой (в коаксиальном кабеле 1 км = 5 мкс) становление осуществляется в интервалах конкуренции.

### Протоколы без столкновений (коллизий)
Протокол битовой карты [Слайд 24]
В этом случае период конкуренции разбивается на n интервалов (n - кол-во станций). Если i-ая станция начинает передавать кадр, она передает его в i-ый интервал конкуренции. Так как известно, чья очередь передавать в очередной интервал, столкновений нет. после передачи последней станции начинается новый этап конкуренции.

__Модель протокола__
